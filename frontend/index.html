<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FTM - File Time Machine</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="app">
      <header id="toolbar">
        <div class="toolbar-left">
          <span class="logo">FTM - File Time Machine</span>
          <button
            type="button"
            id="btn-help"
            class="btn-help"
            title="Help / Shortcuts"
            aria-label="Help"
          >
            ?
          </button>
        </div>
        <div class="toolbar-right">
          <label class="toolbar-checkbox"
            ><input type="checkbox" id="show-deleted" /> Show deleted files</label
          >
          <button id="btn-scan" title="Scan for changes">Scan</button>
          <span id="status"></span>
        </div>
      </header>

      <div id="main">
        <aside id="sidebar">
          <div id="sidebar-header">
            <div class="filter-wrap">
              <input
                id="filter"
                type="text"
                placeholder="filter files..."
                autocomplete="off"
                spellcheck="false"
              />
              <button type="button" class="filter-clear" aria-label="Clear filter" title="Clear">
                ×
              </button>
            </div>
            <div
              id="tree-depth-track"
              class="tree-depth-track"
              role="slider"
              aria-valuemin="0"
              aria-valuemax="4"
              aria-valuenow="4"
              title="Tree depth: drag or click"
            >
              <div class="tree-depth-rail">
                <span class="tree-depth-dot" data-index="0" title="Collapse all"></span>
                <span class="tree-depth-dot" data-index="1" title="Depth 1"></span>
                <span class="tree-depth-dot" data-index="2" title="Depth 2"></span>
                <span class="tree-depth-dot" data-index="3" title="Depth 3"></span>
                <span class="tree-depth-dot" data-index="4" title="Expand all"></span>
              </div>
              <div class="tree-depth-thumb" id="tree-depth-thumb"></div>
            </div>
          </div>
          <div id="file-list"></div>
        </aside>
        <div id="resize-handle"></div>
        <div id="content">
          <div id="diff-header">
            <span id="diff-title">Select a file to view history</span>
            <div id="diff-actions">
              <span id="diff-meta"></span>
              <button id="btn-restore" title="Restore selected version">Restore</button>
            </div>
          </div>
          <div id="diff-viewer"></div>
        </div>
      </div>

      <div id="timeline-resize-handle"></div>
      <footer id="timeline-bar">
        <div id="timeline-toolbar">
          <div id="timeline-range-buttons">
            <button class="tl-range-btn" data-range="all">All</button>
            <button class="tl-range-btn" data-range="3600000">1h</button>
            <button class="tl-range-btn" data-range="21600000">6h</button>
            <button class="tl-range-btn" data-range="86400000">1d</button>
            <button class="tl-range-btn" data-range="259200000">3d</button>
            <button class="tl-range-btn" data-range="604800000">7d</button>
            <button class="tl-range-btn" data-range="2592000000">30d</button>
          </div>
          <div id="timeline-label"></div>
        </div>
        <div id="timeline-body">
          <div id="timeline-lanes"></div>
          <div id="timeline-lanes-resize"></div>
          <canvas id="timeline-canvas"></canvas>
        </div>
      </footer>
      <div id="timeline-tooltip"></div>

      <div id="help-overlay" class="help-overlay" aria-hidden="true">
        <div
          id="help-modal"
          class="help-modal"
          role="dialog"
          aria-labelledby="help-title"
          aria-modal="true"
        >
          <h2 id="help-title">Help</h2>
          <p class="help-intro">
            FTM tracks file changes over time in your project. It lets you browse any file’s
            history, see what changed between versions, and restore a previous version when you need
            to undo or recover.
          </p>
          <h3 class="help-section">Shortcuts</h3>
          <dl class="help-shortcuts">
            <dt>File list</dt>
            <dd><kbd>Ctrl</kbd>/<kbd>Cmd</kbd> + click — multi-select files</dd>
            <dd><kbd>↑</kbd> / <kbd>↓</kbd> — change selected file</dd>
            <dd><kbd>1</kbd>–<kbd>7</kbd> — time range (All, 1h, 6h, 1d, 3d, 7d, 30d)</dd>
            <dt>Timeline (mouse over)</dt>
            <dd><kbd>A</kbd> / <kbd>D</kbd> — pan left / right</dd>
            <dd><kbd>W</kbd> / <kbd>S</kbd> — zoom in / out</dd>
            <dd><kbd>←</kbd> / <kbd>→</kbd> — previous / next version</dd>
            <dd><kbd>↑</kbd> / <kbd>↓</kbd> — switch lane (multi-file)</dd>
            <dt>Timeline wheel</dt>
            <dd><kbd>Shift</kbd> + wheel — horizontal pan</dd>
            <dd><kbd>Ctrl</kbd>/<kbd>Cmd</kbd> + wheel — zoom at mouse</dd>
          </dl>
          <p class="help-close-hint">Press <kbd>Esc</kbd> or click outside to close.</p>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
